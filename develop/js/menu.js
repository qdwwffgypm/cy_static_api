!function(){function l(){var c,a=[],b=document;a.push('<div class="middle">'),a.push("	畅由前端开发规范"),a.push('	<div class="navbg">'),a.push('        <ul class="nav">'),a.push('            <li><a href="#">开发环境</a><i></i></li>'),a.push('            <li><a href="../../develop/guide/index.html">开发规范</a><i></i></li>'),a.push('            <li><a href="../../standard/libs/cache.html">基础库</a><i></i></li>'),a.push('            <li><a href="../../standard/spm/spm.html">埋点统计</a><i></i></li>'),a.push("        </ul>"),a.push("    </div>"),a.push("</div>"),c=b.getElementsByTagName("header")[0],c&&(c.innerHTML=a.join(""))}var a,b,c,d,e,f,g,h,i,j;String.prototype.substitute=function(a){return a&&"object"==typeof a?this.replace(/\{([^{}]+)\}/g,function(b,c){var d=a[c];return void 0!==d?""+d:""}):this.toString()},a=function(a,c){var d,f,e=b();d=function(){f&&4==e.readyState&&(e.status>=200&&e.status<300||304==e.status||1223==e.status)&&(clearInterval(f),f=null,c(e.responseText))},e.open("get",a,!1),f=setInterval(d,13);try{e.send(null)}catch(g){}},b=function(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject},c={list:[{title:"开发规范",list:[{url:"ajax/guide_all.html",title:"1-总的规范"},{url:"ajax/guide_file.html",title:"2-文件规范"},{url:"ajax/guide_html.html",title:"3-HTML规范"},{url:"ajax/guide_css.html",title:"4-CSS规范"},{url:"ajax/guide_js.html",title:"5-JS规范"},{url:"ajax/guide_img.html",title:"6-图片规范"},{url:"ajax/guide_ext.html",title:"7-延伸内容"}]}]},d=document,e=d.querySelector(".menu"),f=d.querySelector(".listmod"),g=[],h=[],i=[],j=[],g.push('<div class="helptree">'),g.push("	<h3>{title}</h3>"),g.push("	<ul>{lis}</ul>"),g.push("</div>"),h.push('<li class="{on}"><a >{title}<span class="right">{method}</span></a></li>'),g=g.join(""),h=h.join(""),location.href.substr(0,location.href.indexOf(".html")+5).split("/").pop(),i=c.list.map(function(b){return b.lis=b.list.map(function(c,g){return 0==g&&(c.on="on"),a(c.url,function(a){if(j.push('<div id="{id}" class="section">{text}</div>'.substitute({id:c.url.match(/_(\w+)\./)[1],text:a})),g==b.list.length-1){f.innerHTML=j.join("");var h=d.querySelector(".middle");setTimeout(function(){setHtml(),JEND.Menu({menuItem:".helptree li",elemItem:".listmod .section",currCss:"on",speeds:[-90,-90,-90,-90,-90,-90,-90]});var a=d.querySelector(".helptree");document.onscroll=function(){var b=d.documentElement.scrollTop;$(e).offset().top,a.style.position=b>0?"fixed":"static",h.style.position=b>0?"fixed":"static"}},0)}}),h.substitute(c)}),b.lis=b.lis.join(""),g.substitute(b)}),e.innerHTML=i.join(""),window.setHtml=function(){var a=document.querySelectorAll("[data-lang]");a.length&&a.forEach(function(a){var b=a.innerHTML,c=1,d='<div class="leftNum">{text}</div>',e="";b.replace(/(\&lt;\/?\w+)/g,function(){e+='<span class="gray">'+c++ +"</span>"}),b=b.replace(/(\"[^""]+\")/g,'<span class="atv">$1</span>'),b=b.replace(/\s(true|function|new)/g,' <span class="atn">$1</span>'),b=b.replace(/&lt;(\w+\s)/g,'&lt;<span class="c069 bold">$1</span>'),b=b.replace(/&lt;(\w+)&gt;/g,'&lt;<span class="c069 bold">$1</span>&gt;'),b=b.replace(/&lt;\/(\w+)&gt;/g,'&lt;/<span class="c069 bold">$1</span>&gt;'),a.innerHTML=e?d.substitute({text:e})+b:b,a.removeAttribute("data-lang")})},setHtml(),l()}(),JEND.define("JEND.Menu",function(a,b){var c=this;return c instanceof JEND.Menu?(c.opts={menuItem:"",elemItem:"",goTop:"",currCss:"curr",speeds:[],moveTime:300,deferTime:1e3},c.opts=$.extend(!0,c.opts,a||{}),c.opts.__isStop=!1,setTimeout(function(){c.init(b)},c.opts.deferTime||0),void 0):new JEND.Menu(a,b)},function(){JEND.Menu.prototype={init:function(a){var b=this;b.$body=$("html, body"),$(document).click(function(a){b.clickMenu(a)}),$(window).scroll(function(){b.scrollElem()}),b.scrollElem(),a&&a.call(b,b)},getCalcNum:function(){var b,c,d,a=this,e=!0,f=Math.min($(window).height(),500),g=$(document).scrollTop()||0;return $(a.opts.elemItem).each(function(e,h){var i=a.opts.speeds[e]||0,j=$(h).offset().top+i,k=$(h).height(),l=j+k,m=g+f;void 0==b&&j>g&&m>l&&(b=e+""),void 0==b&&g>j&&l>m&&(b=e+""),void 0==c&&j>g&&m>j&&(c=e+""),void 0==d&&m>l&&l>g&&(d=e+"")}),a.__dst>g&&(e=!1),a.__dst=g,a.__dst>1e3&&!b&&!c&&!d&&(b=$(a.opts.elemItem).length-1),b||(e?c||d:d||c)||0},setMenu:function(a){var b=this,c=b.opts;$(c.menuItem).removeClass(c.currCss).eq(a).addClass(c.currCss)},setElem:function(a,b){var c=this,d=c.opts,e=d.speeds[a]||0;e+=$(d.elemItem).eq(a).offset().top+1,c.$body.animate({scrollTop:e},d.moveTime,function(){b&&b()})},clickMenu:function(a){var b=this,c=a.target||a.srcElement,d=$(c).parents().add(c);$(b.opts.menuItem).each(function(a,c){d.each(function(){this==c&&(b.opts.__isStop=!0,b.setMenu(a),b.setElem(a,function(){b.opts.__isStop=!1}))})}),d.each(function(a,c){$(b.opts.goTop||[])[0]==c&&b.$body.animate({scrollTop:0},b.opts.moveTime)})},scrollElem:function(){!this.opts.__isStop&&this.setMenu(this.getCalcNum())}}});